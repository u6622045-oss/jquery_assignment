<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>User Management Dashboard</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    #userList { margin-bottom: 20px; }
    table { width: 100%; border-collapse: collapse; background: #fff; }
    th, td { border: 1px solid #000; padding: 8px; text-align: left; }
    th { background: #eee; }

    button { 
      margin-top: 15px; 
      padding: 8px 12px; 
      cursor: pointer; 
    }

    /* Modal */
    .modal-bg {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.5);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }
    .modal {
      background: white;
      padding: 20px;
      width: 300px;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0,0,0,0.3);
    }
    .close-btn {
      float: right;
      cursor: pointer;
      font-weight: bold;
    }
    .input-row { margin-bottom: 10px; }
    label { font-size: 0.9rem; display:block; margin-bottom: 4px; }
    input { width: 100%; padding: 6px; }
  </style>
</head>
<body>

  <h2>User Management Dashboard</h2>

  <div id="userList">
    <h3>Existing Users</h3>
    <table id="usersTable">
      <thead>
        <tr>
          <th>Username</th>
          <th>Full Name</th>
          <th>Email</th>
        </tr>
      </thead>
      <tbody>
        <!-- Users will appear here -->
      </tbody>
    </table>
  </div>

  <button id="toggleDialog">Add New User</button>

  <!-- Modal Dialog -->
  <div class="modal-bg" id="modalBg">
    <div class="modal">
      <span class="close-btn" id="closeModal">X</span>
      <h3>New User</h3>

      <div class="input-row">
        <label>Username</label>
        <input type="text" id="username" />
      </div>

      <div class="input-row">
        <label>Fullname</label>
        <input type="text" id="fullname" />
      </div>

      <div class="input-row">
        <label>Email</label>
        <input type="email" id="email" />
      </div>

      <button id="submitUser">Create User</button>
    </div>
  </div>

<script>
  const toggleDialog = document.getElementById('toggleDialog');
  const modalBg = document.getElementById('modalBg');
  const closeModal = document.getElementById('closeModal');
  const submitUser = document.getElementById('submitUser');
  const usersTable = document.querySelector('#usersTable tbody');

  // Open modal
  toggleDialog.addEventListener('click', () => {
    modalBg.style.display = 'flex';
  });

  // Close modal
  closeModal.addEventListener('click', () => {
    modalBg.style.display = 'none';
    clearForm();
  });

  // Clear form function
  function clearForm() {
    document.getElementById('username').value = '';
    document.getElementById('fullname').value = '';
    document.getElementById('email').value = '';
  }

  // Submit new user
  submitUser.addEventListener('click', () => {
    const username = document.getElementById('username').value.trim();
    const fullname = document.getElementById('fullname').value.trim();
    const email = document.getElementById('email').value.trim();

    // Validation
    if (!username || !fullname || !email) {
      alert('Please fill out all fields.');
      return;
    }

    // Create new table row
    const row = document.createElement('tr');
    row.innerHTML = `
      <td>${username}</td>
      <td>${fullname}</td>
      <td>${email}</td>
    `;

    usersTable.appendChild(row);

    // Clear and close modal
    clearForm();
    modalBg.style.display = 'none';
  });
</script>

</body>
</html>
